<div class="container">
  <h1>Test Form</h1>

  <form (ngSubmit)="save()" [formGroup]="customerForm">
    <div class="form-group">
      <label for="firstName">First Name</label>
      <input id="firstName" [ngClass]="{'is-invalid' : (customerForm.get('firstName').touched || customerForm.get('firstName').dirty) && !customerForm.get('firstName').valid }"
      type="text" placeholder="First Name (required)" class="form-control" formControlName="firstName">
      <div class="invalid-feedback">
        <span *ngIf="customerForm.get('firstName').errors?.required">Please enter your first name.</span>
        <span *ngIf="customerForm.get('firstName').errors?.minlength">The first name must be longer than 3 characters.</span>
      </div>
    </div>
    <div class="form-group">
      <label for="lastName">Last Name</label>
      <input id="lastName" type="text" placeholder="Last Name (required)" class="form-control" formControlName="lastName">
      <div></div>
    </div>
    <div class="form-group">
      <label for="email">Email</label>
      <input id="email" type="email" placeholder="Email (required)" class="form-control" formControlName="email">
    </div>
    <div class="form-group">
      <label>Phone</label>
      <input type="tel" class="form-control" placeholder="Phone" formControlName="phone"
      [ngClass]="{'is-invalid' : (customerForm.get('phone').touched || customerForm.get('phone').dirty) && !customerForm.get('phone').valid }">
      <div class="invalid-feedback">
        <span *ngIf="customerForm.get('phone').errors?.required">Please enter your phone number.</span>
      </div>
    </div>

    <div class="form-group">
      <label>Send Notifications</label>
      <div class="form-check">
        <input class="form-check-input" type="radio" id="email-notification" formControlName="notification" value="email" (click)="setNotification('email')">
        <label class="form-check-label" for="email-notification">
          Email
        </label>
      </div>
      <div class="form-check">
        <input class="form-check-input" type="radio" id="text-notification" formControlName="notification" value="text" (click)="setNotification('text')">
        <label class="form-check-label" for="text-notification">
          Text
        </label>
      </div>
    </div>

    <div class="form-group">
      <div class="form-check">
        <input class="form-check-input" type="checkbox" id="sendCatalog" formControlName="sendCatalog">
        <label class="form-check-label" for="sendCatalog">
          Send Catalog
        </label>
      </div>
    </div>
    <button class="btn btn-primary" type="submit" [disabled]="!customerForm.valid"
    [title]="customerForm.valid ? 'Save your entered data' : 'Disabled until the form data is valid'">
      Save
    </button>
    <button class="btn btn-outline-secondary ml-2" type="button" (click)="populateTestData()">Test Data</button>
  </form>

  <hr>
  <div class="card bg-light mb-3">
    <div class="card-body">
      <pre><code>Dirty: {{ customerForm.dirty }}
Touched: {{ customerForm.touched }}
Valid: {{ customerForm.valid }}
Value: {{ customerForm.value | json }}</code></pre>
    </div>
  </div>
</div>
